[tox]
skipsdist = false

[testenv:dev]
deps =
        pytest
commands =
        python setup.py check -m -s
        pytest {posargs}
usedevelop = true

[testenv:stage]
passenv = PYPYR_IN_CLEAN
deps =
        check-manifest
        docutils
        flake8
        pygments
        pytest
commands =
        # check-manifest --ignore tox.ini,tests*
        python setup.py check -m -r -s
        flake8 .
        pytest {posargs}
usedevelop = true

[testenv:ci]
passenv = PYPYR_IN_CLEAN
deps =
        check-manifest
        coverage
        docutils
        flake8
        pygments
        pytest-cov
        pytest
commands =
        # check-manifest --ignore tox.ini,tests*
        python setup.py check -m -r -s
        flake8 .
        pytest {posargs}
usedevelop = true

[flake8]
exclude = .tox,*.egg,build,data,dist,.cache,.deployenv
select = E,W,F, C90
